/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

!function(t){var e=function(){};t.extend(e.prototype,{name:"ElementRating",options:{url:null},initialize:function(e,i){this.options=t.extend({},this.options,i);var n=this,o=e.find("div.stars");o.each(function(i){t(this).bind("click",function(){var a=o.length-i;t.ajax({url:n.options.url,data:{method:"vote","args[0]":a},type:"post",datatype:"json",success:function(i){var n=t.parseJSON(i),o=n.value;o>0&&e.find("div.previous-rating").css("width",o+"%"),e.find("div.vote-message").text(n.message)}})}).bind("mouseenter",function(){t(this).addClass("hover")}).bind("mouseleave",function(){t(this).removeClass("hover")})})}}),t.fn[e.prototype.name]=function(){var i=arguments,n=i[0]?i[0]:null;return this.each(function(){var o=t(this);if(e.prototype[n]&&o.data(e.prototype.name)&&"initialize"!=n)o.data(e.prototype.name)[n].apply(o.data(e.prototype.name),Array.prototype.slice.call(i,1));else if(!n||t.isPlainObject(n)){var a=new e;e.prototype.initialize&&a.initialize.apply(a,t.merge([o],i)),o.data(e.prototype.name,a)}else t.error("Method "+n+" does not exist on jQuery."+e.name)})}}(jQuery),function(t){var e=function(){};t.extend(e.prototype,{name:"EditElementRating",options:{url:null},initialize:function(e,i){this.options=t.extend({},this.options,i);var n=this;e.find('input[name="reset-rating"]').bind("click",function(){t.ajax({url:n.options.url+"&task=callelement&method=reset",success:function(t){e.replaceWith(t)}})})}}),t.fn[e.prototype.name]=function(){var i=arguments,n=i[0]?i[0]:null;return this.each(function(){var o=t(this);if(e.prototype[n]&&o.data(e.prototype.name)&&"initialize"!=n)o.data(e.prototype.name)[n].apply(o.data(e.prototype.name),Array.prototype.slice.call(i,1));else if(!n||t.isPlainObject(n)){var a=new e;e.prototype.initialize&&a.initialize.apply(a,t.merge([o],i)),o.data(e.prototype.name,a)}else t.error("Method "+n+" does not exist on jQuery."+e.name)})}}(jQuery);